(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},87:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(15),i=a.n(r),s=(a(61),a(62),a(63),a(31)),o=(a(64),a(120)),l=a(119),d=a(13),u=a(10),j={isFahrenheit:!1},b="IS_FAHRENHEIT",h=a(45),f=a.n(h),O=[];try{O=JSON.parse(localStorage.getItem("cities"))}catch(B){}var m={query:"",isLoading:!0,isError:!1,weather:[],favourites:O},v="QUERY",p="IS_LOADING",y="IS_ERROR",x="WEATHER",g="FAVOURITES",N="FETCH_WEATHER",w=function(e){return{type:p,payload:e}},C=function(e){return{type:y,payload:e}},E=function(e){return{type:x,payload:e}},k=function(e){return{type:g,payload:e}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"london";return function(t){""!==e.trim()&&(t(w(!0)),f.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=metric&APPID=ff7e0242676aeda88831243296d4cebe")).then((function(e){t(E(e)),t(w(!1)),t(C(!1))})).catch((function(e){t(w(!1)),t(C(!0))})))}},F=a(2),S=function(e){var t=e.weather,a=e.favourites,n=Object(d.b)(),r=Object(d.c)((function(e){return e.mainPage})).isError,i=Object(d.c)((function(e){return e.weatherCard})).isFahrenheit,u=function(e){n(function(e){return{type:b,payload:e}}(e))},j=Object(s.a)(a),h=Object(c.useMemo)((function(){return function(e,a){if(!a)return e?"".concat(Math.round(9*t.data.main.temp/5+32),"\xb0F"):"".concat(Math.round(t.data.main.temp),"\xb0C")}(i)}),[i,r]),f=Object(c.useCallback)((function(){u(!i)}),[i]),O=Object(c.useCallback)((function(){return function(){j.push(t.data);var e=function(e){var t={};return e.filter((function(e){return e.id in t?0:t[e.id]=1}))}(j);n(k(e))}()}),[]);return Object(F.jsx)(F.Fragment,{children:r?Object(F.jsx)("h1",{className:"error-msg",children:"Nothing found :("}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:"weather__card",children:[Object(F.jsxs)("div",{className:"location",children:[t.data.name,", ",t.data.sys.country]}),Object(F.jsx)("div",{className:"temp",children:h}),Object(F.jsx)("div",{className:"weather-descr",children:t.data.weather[0].main})]}),Object(F.jsxs)("div",{className:"bottom-controls",children:[Object(F.jsx)(o.a,{control:Object(F.jsx)(l.a,{checked:i}),label:"Fahrenheit",onChange:f,className:"city-input"}),Object(F.jsx)("button",{className:"fav-btn",onClick:O,children:"Add city to favourite"})]})]})})},_=(a(87),a(50)),A=a.n(_),R=function(e){var t=e.cityName,a=e.removeItem,n=e.id,r=Object(d.b)(),i=Object(c.useCallback)((function(e){r(I(t))}),[t]);return Object(F.jsx)("div",{className:"saved-city",children:Object(F.jsxs)("button",{className:"saved-city__btn",onClick:i,children:[Object(F.jsx)("div",{className:"city__name",children:t}),Object(F.jsx)("div",{className:"del-btn",onClick:function(e){e.stopPropagation(),a(n)},children:Object(F.jsx)(A.a,{color:"secondary","aria-label":"delete",size:"small"})})]})})},P=a(116),H=a(117),T=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.mainPage})),a=t.query,n=t.isLoading,r=(t.isError,t.weather),i=t.favourites,s=function(t){var a=i.filter((function(e){return e.id!==t}));e(k(a))},o=Object(c.useCallback)((function(t){13===t.keyCode&&e(I(a))}),[a]),l=Object(c.useCallback)((function(t){var a;e((a=t.target.value,{type:v,payload:a}))}),[]),u=Object(c.useCallback)((function(){e(I(a))}),[a]);return Object(c.useEffect)((function(){e(I())}),[]),Object(c.useEffect)((function(){localStorage.setItem("cities",JSON.stringify(i))}),[i]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:"undefined"!=typeof r.data?r.data.main.temp>16?"weather-main":"weather-main cold":"weather-main",children:[Object(F.jsxs)("div",{className:"search-box",children:[Object(F.jsx)("input",{className:"weater-input",type:"text",placeholder:"Enter city...",onChange:l,value:a,onKeyDown:o}),Object(F.jsx)(P.a,{variant:"outlined",size:"small",color:"primary",style:{borderColor:"#fff"},onClick:u,children:"Search"})]}),n?Object(F.jsx)("div",{className:"loader",children:Object(F.jsx)(H.a,{color:"secondary"})}):Object(F.jsx)(S,{weather:r,favourites:i})]}),Object(F.jsxs)("div",{className:"fav",children:[Object(F.jsx)("h1",{children:"Saved cities"}),Object(F.jsx)("div",{className:"fav-items",children:0!==i.length?i.map((function(e){return Object(F.jsx)(R,{id:e.id,cityName:e.name,removeItem:s},e.id)})):"No favorite cities"})]})]})};var q=function(){return Object(F.jsx)("div",{className:"App",children:Object(F.jsx)(T,{})})},J=a(25),L=a(51),M=Object(J.b)({mainPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(u.a)(Object(u.a)({},e),{},{query:t.payload});case p:return Object(u.a)(Object(u.a)({},e),{},{isLoading:t.payload});case y:return Object(u.a)(Object(u.a)({},e),{},{isError:t.payload});case x:return Object(u.a)(Object(u.a)({},e),{},{weather:t.payload});case g:return Object(u.a)(Object(u.a)({},e),{},{favourites:t.payload});case N:return Object(u.a)(Object(u.a)({},e),{},{weather:[].concat(Object(s.a)(e.weather),[t.payload])});default:return e}},weatherCard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(u.a)(Object(u.a)({},e),{},{isFahrenheit:t.payload});default:return e}}}),D=Object(J.c)(M,Object(J.a)(L.a)),z=a(118),U=a(52),W=Object(U.a)({palette:{secondary:{main:"#ffffff"}}});i.a.render(Object(F.jsx)(n.a.StrictMode,{children:Object(F.jsx)(z.a,{theme:W,children:Object(F.jsx)(d.a,{store:D,children:Object(F.jsx)(q,{})})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.5c47e7d5.chunk.js.map