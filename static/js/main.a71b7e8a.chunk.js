(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},87:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),i=a.n(r),o=(a(61),a(62),a(63),a(31)),s=(a(64),a(120)),d=a(119),l=a(13),u=a(10),j={isFahrenheit:!1},b="IS_FAHRENHEIT",h=a(45),f=a.n(h),O=[],m="ff7e0242676aeda88831243296d4cebe";try{O=null!==JSON.parse(localStorage.getItem("cities"))?JSON.parse(localStorage.getItem("cities")):[]}catch(G){}var p={query:"",isLoading:!0,isError:!1,weather:[],favourites:O},v="QUERY",y="IS_LOADING",x="IS_ERROR",g="WEATHER",N="FAVOURITES",w="FETCH_WEATHER",E=function(e){return{type:y,payload:e}},I=function(e){return{type:x,payload:e}},S=function(e){return{type:g,payload:e}},C=function(e){return{type:N,payload:e}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"london";return function(t){""!==e.trim()&&(t(E(!0)),f.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=metric&APPID=").concat(m)).then((function(e){t(S(e)),t(E(!1)),t(I(!1))})).catch((function(e){t(E(!1)),t(I(!0))})))}},_=a(2),A=function(e){var t,a=e.weather,c=e.favourites,r=Object(l.b)(),i=Object(l.c)((function(e){return e.mainPage})).isError,u=Object(l.c)((function(e){return e.weatherCard})).isFahrenheit,j=function(e){r(function(e){return{type:b,payload:e}}(e))},h=Object(o.a)(c);i||(t=u?"".concat(Math.round(9*a.data.main.temp/5+32),"\xb0F"):"".concat(Math.round(a.data.main.temp),"\xb0C"));return Object(n.useEffect)((function(){}),[]),Object(_.jsx)(_.Fragment,{children:i?Object(_.jsx)("h1",{className:"error-msg",children:"Nothing found :("}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"weather__card",children:[Object(_.jsxs)("div",{className:"location",children:[a.data.name,", ",a.data.sys.country]}),Object(_.jsx)("div",{className:"temp",children:t}),Object(_.jsx)("div",{className:"weather-descr",children:a.data.weather[0].main})]}),Object(_.jsxs)("div",{className:"bottom-controls",children:[Object(_.jsx)(s.a,{control:Object(_.jsx)(d.a,{}),label:"Fahrenheit",onChange:function(){j(!u)},className:"city-input"}),Object(_.jsx)("button",{className:"fav-btn",onClick:function(){return function(){h.push(a.data);var e=function(e){var t={};return e.filter((function(e){return e.id in t?0:t[e.id]=1}))}(h);r(C(e))}()},children:"Add city to favourite"})]})]})})},R=(a(87),a(50)),k=a.n(R),P=function(e){var t=e.cityName,a=e.removeItem,n=e.id,c=Object(l.b)();return Object(_.jsx)("div",{className:"saved-city",children:Object(_.jsxs)("button",{className:"saved-city__btn",onClick:function(e){c(F(t))},children:[Object(_.jsx)("div",{className:"city__name",children:t}),Object(_.jsx)("div",{className:"del-btn",onClick:function(e){e.stopPropagation(),a(n)},children:Object(_.jsx)(k.a,{color:"secondary","aria-label":"delete",size:"small"})})]})})},H=a(116),J=a(117),L=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.mainPage})),a=t.query,c=t.isLoading,r=t.isError,i=t.weather,o=t.favourites,s=function(t){var a=o.filter((function(e){return e.id!==t}));e(C(a))};return Object(n.useEffect)((function(){e(F())}),[]),Object(n.useEffect)((function(){localStorage.setItem("cities",JSON.stringify(o))}),[o]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"undefined"!=typeof i.data?i.data.main.temp>16?"weather-main":"weather-main cold":"weather-main",children:[Object(_.jsxs)("div",{className:"search-box",children:[Object(_.jsx)("input",{className:"weater-input",type:"text",placeholder:"Enter city...",onChange:function(t){return e((a=t.target.value,{type:v,payload:a}));var a},value:a,onKeyDown:function(t){return function(t){13===t.keyCode&&e(F(a))}(t)}}),Object(_.jsx)(H.a,{variant:"outlined",size:"small",color:"primary",style:{borderColor:"#fff"},onClick:function(){return e(F(a))},children:"Search"})]}),c?Object(_.jsx)("div",{className:"loader",children:Object(_.jsx)(J.a,{color:"secondary"})}):Object(_.jsx)(A,{weather:i,isLoading:c,isError:r,favourites:o})]}),Object(_.jsxs)("div",{className:"fav",children:[Object(_.jsx)("h1",{children:"Saved cities"}),Object(_.jsx)("div",{className:"fav-items",children:0!==o.length?o.map((function(e){return Object(_.jsx)(P,{id:e.id,cityName:e.name,removeItem:s},e.id)})):"No favorite cities"})]})]})};var T=function(){return Object(_.jsx)("div",{className:"App",children:Object(_.jsx)(L,{})})},q=a(25),D=a(51),M=Object(q.b)({mainPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(u.a)(Object(u.a)({},e),{},{query:t.payload});case y:return Object(u.a)(Object(u.a)({},e),{},{isLoading:t.payload});case x:return Object(u.a)(Object(u.a)({},e),{},{isError:t.payload});case g:return Object(u.a)(Object(u.a)({},e),{},{weather:t.payload});case N:return Object(u.a)(Object(u.a)({},e),{},{favourites:t.payload});case w:return Object(u.a)(Object(u.a)({},e),{},{weather:[].concat(Object(o.a)(e.weather),[t.payload])});default:return e}},weatherCard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(u.a)(Object(u.a)({},e),{},{isFahrenheit:t.payload});default:return e}}}),z=Object(q.c)(M,Object(q.a)(D.a)),U=a(118),W=a(52),B=Object(W.a)({palette:{secondary:{main:"#ffffff"}}});i.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(U.a,{theme:B,children:Object(_.jsx)(l.a,{store:z,children:Object(_.jsx)(T,{})})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.a71b7e8a.chunk.js.map