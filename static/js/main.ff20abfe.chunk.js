(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},87:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),i=a.n(r),o=(a(61),a(62),a(63),a(31)),s=(a(64),a(120)),d=a(119),u=a(13),l=a(10),j={isFahrenheit:!1},b="IS_FAHRENHEIT",h=a(45),f=a.n(h),O=[];try{O=JSON.parse(localStorage.getItem("cities"))}catch(z){}var m={query:"",isLoading:!0,isError:!1,weather:[],favourites:O},v="QUERY",p="IS_LOADING",y="IS_ERROR",x="WEATHER",g="FAVOURITES",E="FETCH_WEATHER",N=function(e){return{type:p,payload:e}},w=function(e){return{type:y,payload:e}},_=function(e){return{type:x,payload:e}},S=function(e){return{type:g,payload:e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"london";return function(t){""!==e.trim()&&(t(N(!0)),f.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=metric&APPID=").concat(Object({NODE_ENV:"production",PUBLIC_URL:"/weather-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_KEY)).then((function(e){t(_(e)),t(N(!1)),t(w(!1))})).catch((function(e){t(N(!1)),t(w(!0))})))}},I=a(2),A=function(e){var t,a=e.weather,c=e.favourites,r=Object(u.b)(),i=Object(u.c)((function(e){return e.mainPage})).isError,l=Object(u.c)((function(e){return e.weatherCard})).isFahrenheit,j=function(e){r(function(e){return{type:b,payload:e}}(e))},h=Object(o.a)(c);i||(t=l?"".concat(Math.round(9*a.data.main.temp/5+32),"\xb0F"):"".concat(Math.round(a.data.main.temp),"\xb0C"));return Object(n.useEffect)((function(){}),[]),Object(I.jsx)(I.Fragment,{children:i?Object(I.jsx)("h1",{className:"error-msg",children:"Nothing found :("}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"weather__card",children:[Object(I.jsxs)("div",{className:"location",children:[a.data.name,", ",a.data.sys.country]}),Object(I.jsx)("div",{className:"temp",children:t}),Object(I.jsx)("div",{className:"weather-descr",children:a.data.weather[0].main})]}),Object(I.jsxs)("div",{className:"bottom-controls",children:[Object(I.jsx)(s.a,{control:Object(I.jsx)(d.a,{}),label:"Fahrenheit",onChange:function(){j(!l)},className:"city-input"}),Object(I.jsx)("button",{className:"fav-btn",onClick:function(){return function(){h.push(a.data);var e=function(e){var t={};return e.filter((function(e){return e.id in t?0:t[e.id]=1}))}(h);r(S(e))}()},children:"Add city to favourite"})]})]})})},F=(a(87),a(50)),R=a.n(F),T=function(e){var t=e.cityName,a=e.removeItem,n=e.id,c=Object(u.b)();return Object(I.jsx)("div",{className:"saved-city",children:Object(I.jsxs)("button",{className:"saved-city__btn",onClick:function(e){c(C(t))},children:[Object(I.jsx)("div",{className:"city__name",children:t}),Object(I.jsx)("div",{className:"del-btn",onClick:function(e){e.stopPropagation(),a(n)},children:Object(I.jsx)(R.a,{color:"secondary","aria-label":"delete",size:"small"})})]})})},P=a(116),H=a(117),k=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.mainPage})),a=t.query,c=t.isLoading,r=t.isError,i=t.weather,o=t.favourites,s=function(t){var a=o.filter((function(e){return e.id!==t}));e(S(a))};return Object(n.useEffect)((function(){e(C())}),[]),Object(n.useEffect)((function(){localStorage.setItem("cities",JSON.stringify(o))}),[o]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"undefined"!=typeof i.data?i.data.main.temp>16?"weather-main":"weather-main cold":"weather-main",children:[Object(I.jsxs)("div",{className:"search-box",children:[Object(I.jsx)("input",{className:"weater-input",type:"text",placeholder:"Enter city...",onChange:function(t){return e((a=t.target.value,{type:v,payload:a}));var a},value:a,onKeyDown:function(t){return function(t){13===t.keyCode&&e(C(a))}(t)}}),Object(I.jsx)(P.a,{variant:"outlined",size:"small",color:"primary",style:{borderColor:"#fff"},onClick:function(){return e(C(a))},children:"Search"})]}),c?Object(I.jsx)("div",{className:"loader",children:Object(I.jsx)(H.a,{color:"secondary"})}):Object(I.jsx)(A,{weather:i,isLoading:c,isError:r,favourites:o})]}),Object(I.jsxs)("div",{className:"fav",children:[Object(I.jsx)("h1",{children:"Saved cities"}),Object(I.jsx)("div",{className:"fav-items",children:0!==o.length?o.map((function(e){return Object(I.jsx)(T,{id:e.id,cityName:e.name,removeItem:s},e.id)})):"No favorite cities"})]})]})};var D=function(){return Object(I.jsx)("div",{className:"App",children:Object(I.jsx)(k,{})})},L=a(25),K=a(51),W=Object(L.b)({mainPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(l.a)(Object(l.a)({},e),{},{query:t.payload});case p:return Object(l.a)(Object(l.a)({},e),{},{isLoading:t.payload});case y:return Object(l.a)(Object(l.a)({},e),{},{isError:t.payload});case x:return Object(l.a)(Object(l.a)({},e),{},{weather:t.payload});case g:return Object(l.a)(Object(l.a)({},e),{},{favourites:t.payload});case E:return Object(l.a)(Object(l.a)({},e),{},{weather:[].concat(Object(o.a)(e.weather),[t.payload])});default:return e}},weatherCard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(l.a)(Object(l.a)({},e),{},{isFahrenheit:t.payload});default:return e}}}),q=Object(L.c)(W,Object(L.a)(K.a)),J=a(118),U=a(52),M=Object(U.a)({palette:{secondary:{main:"#ffffff"}}});i.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(J.a,{theme:M,children:Object(I.jsx)(u.a,{store:q,children:Object(I.jsx)(D,{})})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.ff20abfe.chunk.js.map