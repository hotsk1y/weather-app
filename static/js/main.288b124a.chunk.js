(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},87:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),i=a.n(r),s=(a(61),a(62),a(63),a(31)),o=(a(64),a(120)),d=a(119),u=a(13),l=a(10),j={isFahrenheit:!1},b="IS_FAHRENHEIT",h=a(45),f=a.n(h),O=[];try{O=JSON.parse(localStorage.getItem("cities"))}catch(B){}var m={query:"",isLoading:!0,isError:!1,weather:[],favourites:O},v="QUERY",p="IS_LOADING",y="IS_ERROR",x="WEATHER",g="FAVOURITES",N="FETCH_WEATHER",w=function(e){return{type:p,payload:e}},E=function(e){return{type:y,payload:e}},C=function(e){return{type:x,payload:e}},I=function(e){return{type:g,payload:e}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"london";return function(t){""!==e.trim()&&(t(w(!0)),f.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=metric&APPID=ff7e0242676aeda88831243296d4cebe")).then((function(e){t(C(e)),t(w(!1)),t(E(!1))})).catch((function(e){t(w(!1)),t(E(!0))})))}},S=a(2),_=function(e){var t,a=e.weather,c=e.favourites,r=Object(u.b)(),i=Object(u.c)((function(e){return e.mainPage})).isError,l=Object(u.c)((function(e){return e.weatherCard})).isFahrenheit,j=function(e){r(function(e){return{type:b,payload:e}}(e))},h=Object(s.a)(c);i||(t=l?"".concat(Math.round(9*a.data.main.temp/5+32),"\xb0F"):"".concat(Math.round(a.data.main.temp),"\xb0C"));return Object(n.useEffect)((function(){}),[]),Object(S.jsx)(S.Fragment,{children:i?Object(S.jsx)("h1",{className:"error-msg",children:"Nothing found :("}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"weather__card",children:[Object(S.jsxs)("div",{className:"location",children:[a.data.name,", ",a.data.sys.country]}),Object(S.jsx)("div",{className:"temp",children:t}),Object(S.jsx)("div",{className:"weather-descr",children:a.data.weather[0].main})]}),Object(S.jsxs)("div",{className:"bottom-controls",children:[Object(S.jsx)(o.a,{control:Object(S.jsx)(d.a,{}),label:"Fahrenheit",onChange:function(){j(!l)},className:"city-input"}),Object(S.jsx)("button",{className:"fav-btn",onClick:function(){return function(){h.push(a.data);var e=function(e){var t={};return e.filter((function(e){return e.id in t?0:t[e.id]=1}))}(h);r(I(e))}()},children:"Add city to favourite"})]})]})})},A=(a(87),a(50)),R=a.n(A),k=function(e){var t=e.cityName,a=e.removeItem,n=e.id,c=Object(u.b)();return Object(S.jsx)("div",{className:"saved-city",children:Object(S.jsxs)("button",{className:"saved-city__btn",onClick:function(e){c(F(t))},children:[Object(S.jsx)("div",{className:"city__name",children:t}),Object(S.jsx)("div",{className:"del-btn",onClick:function(e){e.stopPropagation(),a(n)},children:Object(S.jsx)(R.a,{color:"secondary","aria-label":"delete",size:"small"})})]})})},P=a(116),H=a(117),L=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.mainPage})),a=t.query,c=t.isLoading,r=t.isError,i=t.weather,s=t.favourites,o=function(t){var a=s.filter((function(e){return e.id!==t}));e(I(a))};return Object(n.useEffect)((function(){e(F())}),[]),Object(n.useEffect)((function(){localStorage.setItem("cities",JSON.stringify(s))}),[s]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"undefined"!=typeof i.data?i.data.main.temp>16?"weather-main":"weather-main cold":"weather-main",children:[Object(S.jsxs)("div",{className:"search-box",children:[Object(S.jsx)("input",{className:"weater-input",type:"text",placeholder:"Enter city...",onChange:function(t){return e((a=t.target.value,{type:v,payload:a}));var a},value:a,onKeyDown:function(t){return function(t){13===t.keyCode&&e(F(a))}(t)}}),Object(S.jsx)(P.a,{variant:"outlined",size:"small",color:"primary",style:{borderColor:"#fff"},onClick:function(){return e(F(a))},children:"Search"})]}),c?Object(S.jsx)("div",{className:"loader",children:Object(S.jsx)(H.a,{color:"secondary"})}):Object(S.jsx)(_,{weather:i,isLoading:c,isError:r,favourites:s})]}),Object(S.jsxs)("div",{className:"fav",children:[Object(S.jsx)("h1",{children:"Saved cities"}),Object(S.jsx)("div",{className:"fav-items",children:0!==s.length?s.map((function(e){return Object(S.jsx)(k,{id:e.id,cityName:e.name,removeItem:o},e.id)})):"No favorite cities"})]})]})};var T=function(){return Object(S.jsx)("div",{className:"App",children:Object(S.jsx)(L,{})})},q=a(25),J=a(51),D=Object(q.b)({mainPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(l.a)(Object(l.a)({},e),{},{query:t.payload});case p:return Object(l.a)(Object(l.a)({},e),{},{isLoading:t.payload});case y:return Object(l.a)(Object(l.a)({},e),{},{isError:t.payload});case x:return Object(l.a)(Object(l.a)({},e),{},{weather:t.payload});case g:return Object(l.a)(Object(l.a)({},e),{},{favourites:t.payload});case N:return Object(l.a)(Object(l.a)({},e),{},{weather:[].concat(Object(s.a)(e.weather),[t.payload])});default:return e}},weatherCard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(l.a)(Object(l.a)({},e),{},{isFahrenheit:t.payload});default:return e}}}),M=Object(q.c)(D,Object(q.a)(J.a)),z=a(118),U=a(52),W=Object(U.a)({palette:{secondary:{main:"#ffffff"}}});i.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(z.a,{theme:W,children:Object(S.jsx)(u.a,{store:M,children:Object(S.jsx)(T,{})})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.288b124a.chunk.js.map